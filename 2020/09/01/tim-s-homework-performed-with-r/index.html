<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Tim&#39;s homework 2 performed with R - Jian CUI Ph.D.</title><link rel="icon" type="image/png" href=favicon.ico /><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Tim&#39;s homework 2 performed with R" />
<meta property="og:description" content="In Gödel, Escher, Bach: An Eternal Golden Braid, Douglas Hofstadter describes a property of integers:   We begin with your number, and if it is ODD, we triple it and add 1. If it is EVEN, we take half of it. Then we repeat the process. Call a number which eventually reaches 1 this way a WONDROUS number, and a number which doesn’t, an UNWONDROUS number.
 Write a Python script called wondrous." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2020/09/01/tim-s-homework-performed-with-r/" />
<meta property="article:published_time" content="2020-09-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-09-01T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tim&#39;s homework 2 performed with R"/>
<meta name="twitter:description" content="In Gödel, Escher, Bach: An Eternal Golden Braid, Douglas Hofstadter describes a property of integers:   We begin with your number, and if it is ODD, we triple it and add 1. If it is EVEN, we take half of it. Then we repeat the process. Call a number which eventually reaches 1 this way a WONDROUS number, and a number which doesn’t, an UNWONDROUS number.
 Write a Python script called wondrous."/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel="stylesheet">

	<link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" /><link rel="stylesheet" type="text/css" href="/css/dark.css"  />

	<script src="/js/feather.min.js"></script>
	
	<script src="/js/main.js"></script>
	<link rel="stylesheet" href="/css/obsidian.css" rel="stylesheet" id="theme-stylesheet">
	<script src="/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	
	
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    
</head>

<body>
	<div class="container wrapper post">
		<div class="header">
	<base href="/">
	<h1 class="site-title"><a href="/">Jian CUI Ph.D.</a></h1>
	<div class="site-description"><h2>Postdoctoral associate @ <a href="https://upddi.pitt.edu/">Drug Discovery Institute - University of Pittsburgh</a></h2><nav class="nav social">
			<ul class="flat"><a href="mailto:cuij@pitt.edu" title="Email"><i data-feather="mail"></i></a><a href="https://github.com/NaijIuc" title="Github"><i data-feather="github"></i></a><a href="https://www.linkedin.com/in/jian-cui-61ab121b0/" title="LinkedIn"><i data-feather="linkedin"></i></a></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/post">All posts</a>
			</li>
			
			<li>
				<a href="/about">About</a>
			</li>
			
			<li>
				<a href="/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post-header">
			<h1 class="title">Tim&#39;s homework 2 performed with R</h1>
			<div class="meta">Posted at &mdash; Sep 1, 2020</div>
		</div>

		<div class="markdown">
			<ul>
<li>In <em>Gödel, Escher, Bach: An Eternal Golden Braid</em>, Douglas Hofstadter describes a property of integers:</li>
</ul>
<blockquote>
<p>We begin with your number, and if it is ODD, we triple it and add 1.  If it is EVEN, we take half of it.  Then we repeat the process.  Call a number which eventually reaches 1 this way a WONDROUS number, and a number which doesn’t, an UNWONDROUS number.</p>
</blockquote>
<p>Write a Python script called <code>wondrous.py</code> that reads a positive integer from the command line and calculateswhether it’s wondrous.  If it is, the program tells the number of steps needed to reach 1. It should have thefollowing behavior:</p>
<pre><code class="language-bash">$ python wondrous.py 15

15 is wondrous.  It converges in 17 steps.

$python wondrous.py bacon

‘bacon’ is not an integer.
</code></pre>
<p>What happens if the program is given an UNwondrous number?</p>
<p><strong>My demo:</strong></p>
<pre><code class="language-r">wonder.func &lt;- function(x){
  wonder.list &lt;- c()
  w &lt;- x
  while (w &gt; 1) {
    m.fuc &lt;- function(x){
      y = NULL
      ifelse(x %% 2 == 1, y &lt;- x*3+1, y &lt;- x/2)
      return(y)
    }
    
    wonder.list &lt;- c(wonder.list, w)
    w = m.fuc(w)
  }
  
  cat(&quot;&quot;,x, &quot;is wondrous. \n&quot; ,
      &quot;It converges in&quot;, length(wonder.list), &quot;steps\n&quot;,
      &quot;content = &quot;, wonder.list,1)
}
</code></pre>
<ul>
<li>Analternating permutationof the set{1,2,3, . . . N}is a permutation in which each element is alternativelygreater than or less than the previous element.  That is, ifn1is the first element,n2the second, etc., theneither</li>
</ul>
<p>n1&gt; n2&lt; n3&gt; n4&lt; n5. . .</p>
<p>or</p>
<p>n1&lt; n2&gt; n3&lt; n4&gt; n5. . .</p>
<p>Write a program called <code>zigzag.py</code> that determines the probability that a random permutation of the integers1 throughNwill be alternating.  It should return the number of alternating permutations, the total numberof permutations, and their ratio:</p>
<pre><code class="language-bash">$python zigzag.py 3
4 6 0.666667

$python zigzag.py 3.7
3.7 is not an integer.
</code></pre>
<p><strong>My Demo:</strong></p>
<pre><code class="language-r"># This method looks for all the possibilities, which takes too much memory

zigzag &lt;- function(x){

  library(e1071)
  
  all &lt;- permutations(x)
  
  a = 1:(x-1)
  b = 2:x

  t = all[,b] - all[,a]
  
  t[t&lt;=-1] = -1
  t[t&gt;=1] = 1
  
  a &lt;- seq(0,x-1,2)[-1]
  b &lt;- seq(1,x-1,2)
  
  seq.1 &lt;- NULL
  seq.1[a] &lt;- 1
  seq.1[b] &lt;- -1
  
  seq.2 &lt;- NULL
  seq.2[a] &lt;- -1
  seq.2[b] &lt;- 1
  
  f &lt;- sum(apply(t, 1, function(x) all(x == seq.1))+
        apply(t, 1, function(x) all(x == seq.2)))
  
  cat(f ,&quot;\t&quot;, factorial(x), &quot;\t&quot;, round(f/factorial(x),6))
  
  
}
</code></pre>
<ul>
<li>Write a program called <code>mtxvec.py</code> that reads an N×Nmatrix from a tab-delimited file, places the elements of its upper triangle into the vector~v1,  the elements of its lower triangle into the vector~v2,  and calculatestheir dot product.  For example, if the input matrix is</li>
</ul>
<pre><code class="language-bash">$cat data.tsv
1 2 3 
4 5 6 
7 8 9
</code></pre>
<p>the output would be</p>
<pre><code class="language-bash">$python mtxvec.py data.tsv
v1 = 1 2 3 5 6 9
v2 = 1 4 5 7 8 9
v1.v2 = 188
</code></pre>
<p><strong>My Demo:</strong></p>
<pre><code class="language-r">M &lt;- matrix(1:9, nrow = 3)

v1 &lt;- M[upper.tri(M, diag = T)] 
v2 &lt;- M[lower.tri(M, diag = T)]

cat(&quot;v1.v2 = &quot;, v1 %*% v2)
</code></pre>
<ul>
<li>DNA uses four different nucleobases, abbreviated as A, C, T, and G, to code protein amino acid sequences.The <em>genetic code</em> maps  codons  –  nucleobase  triplets  –  to  amino  acids.   For  example,  the  nucleobase  triplet CAT is  a  codon  for  the  amino  acid  histidine.   There  are  $4^3=  64$  codons,  or  three-letter  words  that  can  be constructed from a four-letter alphabet.  In general, there are $k^n$n-letter words that can be constructed from a <em>k</em>-letter alphabet.  Write a program called <code>nkwords.py</code> that takes in two integers, <em>k</em> and <em>n</em>, and prints all <em>n</em>-letter words that can be constructed with the first <em>k</em> letters of the alphabet.  For example:</li>
</ul>
<pre><code class="language-bash">$python nkwords.py 2 3
AAA
AAB
ABA
ABB
BAA
BAB
BBA
BBB
</code></pre>
<p>The words don’t need to be printed in any particular order.  Your code should include controls to catch invalidinput.</p>
<p><strong>My Demo:</strong></p>
<pre><code class="language-r">my.func &lt;- function(k,n){
  vars &lt;- LETTERS[1:k]
  
  m.list &lt;- list()
  for (i in 1:n) {
    m.list[[i]] &lt;- vars
  }
  t = expand.grid(m.list)
  names(t) &lt;- NULL
  return(t)
}

# my.func(2,3)

# args = commandArgs(trailingOnly=TRUE)

# my.func(args[1], args[2])
</code></pre>

		</div>

		<div class="post-tags">
			
				
			
		</div>
		</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> Copyright © by Jian Cui |  <a href="https://github.com/vividvilla/ezhil">Ezhil theme</a> | Built with <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-123-45', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script>feather.replace()</script>
</body>
</html>
